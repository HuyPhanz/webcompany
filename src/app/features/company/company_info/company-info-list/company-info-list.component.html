<nz-table nzBordered [nzData]="companyInfoOfData" nzTableLayout="fixed">
  <thead>
  <tr>
    <th nzWidth="40%">Name</th>
    <th nzWidth="55%">Description</th>
    <th nzWidth="15%">Icon</th>
    <th nzWidth="15%">Director</th>
    <th nzWidth="30%">Contact Address</th>
    <th nzWidth="30%">Contact Email</th>
    <th nzWidth="30%">Contact Phone</th>
    <th nzWidth="30%">WorkingHours</th>
    <th nzWidth="30%">MapEmbedUrl</th>
    <th nzWidth="30%">Action</th>
  </tr>
  </thead>
  <tbody>
    @for (data of companyInfoOfData; track data) {
      <tr>
        @if (!editCache[data.id].edit) {
          <td>{{ data.siteName }}</td>
          <td>{{ data.siteDescription }}</td>
          <td>{{ data.icon }}</td>
          <td>{{ data.director }}</td>
          <td>{{ data.contactAddress }}</td>
          <td>{{ data.contactEmail }}</td>
          <td>{{ data.contactPhone }}</td>
          <td>{{ data.workingHours }}</td>
          <td>{{ data.mapUrl }}</td>
          <td>
            <button nz-button nzType="primary" (click)="startEdit(data.id)"><nz-icon nzType="edit" /></button>
            <button nz-button nzType="primary" nzDanger (click)="deleteDataCompanyInfo(data.id)">
              <nz-icon nzType="delete" />
            </button>
          </td>
        } @else {
          <td><input type="text" nz-input [(ngModel)]="editCache[data.id].data.siteName" /></td>
          <td><textarea nz-input rows="10" [(ngModel)]="editCache[data.id].data.siteDescription"></textarea></td>
          <td><input type="text" nz-input [(ngModel)]="editCache[data.id].data.icon" /></td>
          <td><input type="text" nz-input [(ngModel)]="editCache[data.id].data.director" /></td>
          <td><input type="text" nz-input [(ngModel)]="editCache[data.id].data.contactAddress" /></td>
          <td><input type="text" nz-input [(ngModel)]="editCache[data.id].data.contactEmail" /></td>
          <td><input type="text" nz-input [(ngModel)]="editCache[data.id].data.contactPhone" /></td>
          <td><input type="text" nz-input [(ngModel)]="editCache[data.id].data.workingHours" /></td>
          <td><input type="text" nz-input [(ngModel)]="editCache[data.id].data.mapUrl" /></td>
          <td>
            <button nz-button nzType="primary" (click)="updateCompanyInfo(data.id)" class="save">Save</button
            ><button
            nz-popconfirm
            nz-button
            nzType="dashed"
            nzDanger
            nzPopconfirmTitle="Sure to cancel?"
            (nzOnConfirm)="cancelEdit(data.id)"
          >
            Cancel
          </button>
          </td>
        }
      </tr>
    }
  </tbody>
</nz-table>
